<div *ngIf="products.length === 0" class="text-center text-gray-500 py-10">
  KhÃ´ng cÃ³ sáº£n pháº©m nÃ o.
</div>

<div
  *ngIf="products.length > 0"
  class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6"
>
  <div
    *ngFor="let p of products"
    class="bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition overflow-hidden"
  >
    <!-- ðŸ–¼ï¸ áº¢nh sáº£n pháº©m -->
    <div class="relative">
      <img
        [src]="p.product_image || 'https://via.placeholder.com/300x200?text=No+Image'"
        [alt]="p.product_name"
        class="w-full h-48 object-cover"
      />

      <!-- ID + TÃªn sáº£n pháº©m overlay -->
      <div
        class="absolute top-0 left-0 w-full flex justify-between items-center bg-black/40 text-white text-sm font-medium px-3 py-2"
      >
        <span>#{{ p.product_id }}</span>
        <span class="truncate max-w-[70%] text-right">{{ p.product_name }}</span>
      </div>
    </div>

    <!-- ðŸªª MÃ£ sáº£n pháº©m -->
    <div class="px-4 pt-3 pb-1">
      <p class="text-gray-400 text-xs text-center italic tracking-wide">
        MÃ£ sáº£n pháº©m: {{ p.product_code }}
      </p>
    </div>

    <!-- ðŸ’° GiÃ¡ -->
    <div class="px-4 pb-3 text-sm text-gray-700 text-center">
      <div *ngIf="p.retailPrice && p.retailPrice > 0">
        <span class="text-green-700 font-semibold">Retail:</span>
        {{ p.retailPrice | number }}Ä‘
      </div>
      <div *ngIf="p.agentPrice && p.agentPrice > 0">
        <span class="text-blue-700 font-semibold">Agency:</span>
        {{ p.agentPrice | number }}Ä‘
      </div>
      <div *ngIf="p.wholesalePrice && p.wholesalePrice > 0">
        <span class="text-orange-700 font-semibold">Wholesale:</span>
        {{ p.wholesalePrice | number }}Ä‘
      </div>
    </div>

    <!-- ðŸ§­ Action buttons -->
    <div class="flex justify-center gap-2 pb-4">
      <button
        (click)="onEdit(p)"
        class="bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-sm"
      >
        Edit
      </button>
      <button
        (click)="onDelete(p.product_id)"
        class="bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded text-sm"
      >
        Delete
      </button>
      <button
        (click)="onReview(p)"
        class="bg-gray-200 hover:bg-gray-300 text-gray-800 px-3 py-1 rounded text-sm border border-gray-300"
      >
        Review
      </button>
    </div>
  </div>
</div>
